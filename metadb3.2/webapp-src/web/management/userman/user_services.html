<!--
		MetaDB: A Distributed Metadata Collection Tool
		Copyright 2011, Lafayette College, Eric Luhrs, Haruki Yamaguchi, Long Ho.

		This file is part of MetaDB.

    MetaDB is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    MetaDB is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with MetaDB.  If not, see <http://www.gnu.org/licenses/>.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>User Management Services</title>

</head>

<body>



<!-- Create new users -->
<div id="create-user" align="center">

	 <form id="create-user-form" class='main-form' method="post">
	<fieldset style="width: 90%;">
	<legend><b>User Details</b></legend>	 
	 <table border="0">
	  <tr>
	    <td><div align="right">Username</div></td>
	    <td width="100px"><div align="left">
	      <input name="username"  type="text" class="required text ui-widget-content" minlength="3"/>
	      <div id="username-notice"></div>
	    </div></td>
	  </tr>
	  <tr>
	    <td><div align="right">User Type</div></td>
	    <td><div align="left">
	      <select name="permission" class="user-type">
	        <option>worker</option>
	        <option>admin</option>
	      </select>
	    </div></td>
	  </tr>
	  <tr>
	    <td><div align="right">Authentication Type</div></td>
	    <td><div align="left">
	      <select id="auth-type" name="auth-type" class="auth-type" onchange="UserMan.checkLDAP()">	        
	        <option>LDAP</option>
	        <option>Local</option>
	      </select>
	    </div></td>
	  </tr>
	
	  <tr class="local-pwd">
	    <td ><div align="right">Password</div></td>
	    <td width="100px">
	    	<div align="left">
	      		<input id="create-user-password" name="password" type="password" class="required text ui-widget-content" minlength="6"/>
	    	</div>
	    </td>
	  </tr>
	  <tr class="local-pwd">
	    <td ><div align="right">Confirm Password</div></td>
	    <td width="100px" ><div align="left">
	      <input id="confirm-password" name="confirm-password" class="text ui-widget-content" type="password" equalTo="#create-user-password"/>
	    </div></td>
	  </tr>
	  
	  <tr>
	    <td><div align="right">
	      <input type="button" class="submit-create-user-button" value="Confirm" onclick="UserMan.createUser(); return false;"/>
	    </div></td>
	    <td><div align="left">
	      <input class="reset-create-user-button" type="reset"/>
	    </div></td>
	  </tr>
	</table>
	</fieldset>
	</form>
</div>



<!-- Delete User -->
<div id="delete-user" align="center">
	
 	<div class="ui-state-error ui-corner-all" style="padding: 2px; width:310px;"> 
					<p><span class="ui-icon ui-icon-alert" style="float: left; margin-right: .3em;"></span> 
					<strong>Alert:</strong> Selected user will be permanently deleted.</p>					
    <label>Username</label>
    <select name="username" class="user-list"></select>
     
     <br/>
     <br/>
     <form id='delete-form'>
     <input class="ui-state-default" type="button" value="Delete"/>
     </form>
     <br/>
     <div style='display:none' id="delete-user-confirmation" title="Delete User Confirmation">
			<p><span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>Selected user account and all access permissions will be deleted!  Do you want to proceed?</p>
	</div>

	</div>    
</div>


 
 
 <!-- Change user information -->
 <div id="change-user-info">
 <fieldset style="width: 90%;">
 <legend><b>User Details</b></legend>
 <form id="change-user-info-form" method="post">
 
 Note: Administrator accounts must be removed from the command-line.
 <br/>
 <br/>
 <table border="0">
  <tr>
    <td><div align="right">Username</div></td>
    <td><div align="left">
      <select id="change-username" name="username" class="user-list"></select>
    </div></td>
  </tr>
  <tr>
    <td><div align="right">User Type</div></td>
    <td><div align="left">
      <select id="change-type" name="type" class="user-type">
        <option value="worker">worker</option>
        <option value="admin">admin</option>
      </select>
    </div></td>
  </tr>
  <tr>
    <td><div align="right">Authentication Type</div></td>
    <td><div align="left">
      <select id="change-auth-type" name="auth-type" class="auth-type" onchange="UserMan.checkLDAP()">
	    <option id="ldap">LDAP</option>
        <option id="local">Local</option>
      </select>
    </div></td>
  </tr>
  <tr class="local-pwd">
    <td ><div align="right">Password</div></td>
    <td width="100px" ><div align="left" >
      <input id="change-user-password" name="password"  class="text ui-widget-content" type="password"/>
    </div></td>
  </tr>
  <tr class="local-pwd">
    <td ><div align="right">Confirm Password</div></td>
    <td width="100px"><div align="left" >
      <input id="confirm-password"  class="text ui-widget-content" name="confirm-password" type="password" equalTo='#change-user-password'/>
    </div></td>
  </tr>
  <tr>
    <td><div align="right">
    </div></td>
    <td><div align="left">
      <input id="change-confirm" type="button" class="ui-state-default" value="Confirm" onclick="UserMan.updateUser(); return false;"/>
    </div>
    </td>
  </tr>
</table>

</form>

 <br/>





<!-- Change user access -->
 <div id="change-user-access">
 
     <table id="user-access-table" cellspacing="0" cellpadding="2px">
     	<thead>
       <tr>
         <th class="border" style='background-color:#CCCCCC;'>project</th>
         <th class="border" style='background-color:#CCCCCC;'>desc metadata</th>
         <th class="border" style='background-color:#CCCCCC;'>admin metadata</th>
         <th class="border" style='background-color:#CCCCCC;'>table edit</th>
		 <th class="border" style='background-color:#CCCCCC;'>vocab admin</th>  
		 <th class="border" style='background-color:#CCCCCC;'>import/export</th>      
         <th class="border" style='background-color:#CCCCCC;'>access</th>
       </tr>
       </thead>
       <tbody>
       <tr>
       	<td class="border">
         <select name="project-choice" class='project-list-main' id="project-choice-access">
            
          </select>  
          </td>
         <td class="cell">
           <input type="radio" name="desc_md" value="read" checked/>read only<br/>
           <input type="radio" name="desc_md" value="read_write" />read/write
        </td>
        <td class="cell">
           <input type="radio" name="admin_md" value="read" checked/>read only<br/>
           <input type="radio" name="admin_md" value="read_write" />read/write
         </td>
         <td class="cell">
           <input type="radio" name="table_edit" value="deny" checked/>deny access<br/>
           <input type="radio" name="table_edit" value="allow" />allow access
         </td>
         <td class="cell">
           <input type="radio" name="controlled_vocab" value="deny" checked/>deny access<br/>
           <input type="radio" name="controlled_vocab" value="allow" />allow access
         </td>
         <td class="cell">
           	 <input type="radio" name="data" value="none" checked/>no access <br/>
             <input type="radio" name="data" value="export" />export only<br/>
             <input type="radio" name="data" value="import_export" />import/export
         </td>
        <td class="border"><input type='button' class="ui-state-default" value='Grant' onclick='UserMan.grant(); return false;'/></td>
         
       </tr>
       </tbody>
     </table>     
</div>
</fieldset>
</div>


 </body>
</html>